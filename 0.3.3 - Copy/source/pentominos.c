// Pentomino definitions - Complete 18-piece set with CORRECT rotations
// Generated using Python's rotate_clockwise formula: (y, -x)

#include "main.h"

// I5 pentomino
const s8 I5_SHAPE[4][5][2] = {
    {{-2,0}, {-1,0}, {0,0}, {1,0}, {2,0}},
    {{0,2}, {0,1}, {0,0}, {0,-1}, {0,-2}},
    {{2,0}, {1,0}, {0,0}, {-1,0}, {-2,0}},
    {{0,-2}, {0,-1}, {0,0}, {0,1}, {0,2}},
};

// L5 pentomino
const s8 L5_SHAPE[4][5][2] = {
    {{-1,0}, {0,0}, {1,0}, {2,0}, {2,1}},
    {{0,1}, {0,0}, {0,-1}, {0,-2}, {1,-2}},
    {{1,0}, {0,0}, {-1,0}, {-2,0}, {-2,-1}},
    {{0,-1}, {0,0}, {0,1}, {0,2}, {-1,2}},
};

// J5 pentomino
const s8 J5_SHAPE[4][5][2] = {
    {{-2,0}, {-1,0}, {0,0}, {1,0}, {-2,1}},
    {{0,2}, {0,1}, {0,0}, {0,-1}, {1,2}},
    {{2,0}, {1,0}, {0,0}, {-1,0}, {2,-1}},
    {{0,-2}, {0,-1}, {0,0}, {0,1}, {-1,-2}},
};

// N pentomino
const s8 N_SHAPE[4][5][2] = {
    {{-1,-1}, {-1,0}, {0,0}, {1,0}, {1,1}},
    {{-1,1}, {0,1}, {0,0}, {0,-1}, {1,-1}},
    {{1,1}, {1,0}, {0,0}, {-1,0}, {-1,-1}},
    {{1,-1}, {0,-1}, {0,0}, {0,1}, {-1,1}},
};

// N2 pentomino
const s8 N2_SHAPE[4][5][2] = {
    {{-1,1}, {-1,0}, {0,0}, {1,0}, {1,-1}},
    {{1,1}, {0,1}, {0,0}, {0,-1}, {-1,-1}},
    {{1,-1}, {1,0}, {0,0}, {-1,0}, {-1,1}},
    {{-1,-1}, {0,-1}, {0,0}, {0,1}, {1,1}},
};

// S5 pentomino
const s8 S5_SHAPE[4][5][2] = {
    {{-1,0}, {0,0}, {0,1}, {1,1}, {2,1}},
    {{0,1}, {0,0}, {1,0}, {1,-1}, {1,-2}},
    {{1,0}, {0,0}, {0,-1}, {-1,-1}, {-2,-1}},
    {{0,-1}, {0,0}, {-1,0}, {-1,1}, {-1,2}},
};

// Z5 pentomino
const s8 Z5_SHAPE[4][5][2] = {
    {{1,0}, {0,0}, {0,1}, {-1,1}, {-2,1}},
    {{0,-1}, {0,0}, {1,0}, {1,1}, {1,2}},
    {{-1,0}, {0,0}, {0,-1}, {1,-1}, {2,-1}},
    {{0,1}, {0,0}, {-1,0}, {-1,-1}, {-1,-2}},
};

// P pentomino - MANUAL ROTATIONS
const s8 P_SHAPE[4][5][2] = {
    {{-1,0}, {0,0}, {-1,1}, {0,1}, {0,2}},
    {{-1,0}, {0,0}, {-1,1}, {0,1}, {1,0}},
    {{-1,0}, {0,0}, {-1,1}, {0,1}, {-1,-1}},
    {{-1,0}, {0,0}, {-1,1}, {0,1}, {-2,1}},
};

// P2 pentomino - MANUAL ROTATIONS
const s8 P2_SHAPE[4][5][2] = {
    {{1,0}, {0,0}, {1,1}, {0,1}, {0,2}},
    {{1,0}, {0,0}, {1,1}, {0,1}, {-1,0}},
    {{1,0}, {0,0}, {1,1}, {0,1}, {1,-1}},
    {{1,0}, {0,0}, {1,1}, {0,1}, {2,1}},
};

// Y pentomino
const s8 Y_SHAPE[4][5][2] = {
    {{-1,0}, {0,0}, {1,0}, {2,0}, {1,1}},
    {{0,1}, {0,0}, {0,-1}, {0,-2}, {1,-1}},
    {{1,0}, {0,0}, {-1,0}, {-2,0}, {-1,-1}},
    {{0,-1}, {0,0}, {0,1}, {0,2}, {-1,1}},
};

// Y2 pentomino
const s8 Y2_SHAPE[4][5][2] = {
    {{-2,0}, {-1,0}, {0,0}, {1,0}, {-1,1}},
    {{0,2}, {0,1}, {0,0}, {0,-1}, {1,1}},
    {{2,0}, {1,0}, {0,0}, {-1,0}, {1,-1}},
    {{0,-2}, {0,-1}, {0,0}, {0,1}, {-1,-1}},
};

// F pentomino
const s8 F_SHAPE[4][5][2] = {
    {{-1,0}, {0,0}, {0,-1}, {1,-1}, {0,1}},
    {{0,1}, {0,0}, {-1,0}, {-1,-1}, {1,0}},
    {{1,0}, {0,0}, {0,1}, {-1,1}, {0,-1}},
    {{0,-1}, {0,0}, {1,0}, {1,1}, {-1,0}},
};

// F2 pentomino
const s8 F2_SHAPE[4][5][2] = {
    {{-2,0}, {-1,0}, {0,0}, {1,0}, {-1,1}},
    {{0,2}, {0,1}, {0,0}, {0,-1}, {1,1}},
    {{2,0}, {1,0}, {0,0}, {-1,0}, {1,-1}},
    {{0,-2}, {0,-1}, {0,0}, {0,1}, {-1,-1}},
};

// U pentomino
const s8 U_SHAPE[4][5][2] = {
    {{-1,0}, {1,0}, {-1,1}, {0,1}, {1,1}},
    {{0,1}, {0,-1}, {1,1}, {1,0}, {1,-1}},
    {{1,0}, {-1,0}, {1,-1}, {0,-1}, {-1,-1}},
    {{0,-1}, {0,1}, {-1,-1}, {-1,0}, {-1,1}},
};

// T5 pentomino
const s8 T5_SHAPE[4][5][2] = {
    {{-1,0}, {0,0}, {1,0}, {0,1}, {0,2}},
    {{0,1}, {0,0}, {0,-1}, {1,0}, {2,0}},
    {{1,0}, {0,0}, {-1,0}, {0,-1}, {0,-2}},
    {{0,-1}, {0,0}, {0,1}, {-1,0}, {-2,0}},
};

// W pentomino
const s8 W_SHAPE[4][5][2] = {
    {{-1,-1}, {-1,0}, {0,0}, {0,1}, {1,1}},
    {{-1,1}, {0,1}, {0,0}, {1,0}, {1,-1}},
    {{1,1}, {1,0}, {0,0}, {0,-1}, {-1,-1}},
    {{1,-1}, {0,-1}, {0,0}, {-1,0}, {-1,1}},
};

// X pentomino
const s8 X_SHAPE[4][5][2] = {
    {{0,-1}, {-1,0}, {0,0}, {1,0}, {0,1}},
    {{-1,0}, {0,1}, {0,0}, {0,-1}, {1,0}},
    {{0,1}, {1,0}, {0,0}, {-1,0}, {0,-1}},
    {{1,0}, {0,-1}, {0,0}, {0,1}, {-1,0}},
};

// V pentomino
const s8 V_SHAPE[4][5][2] = {
    {{-1,-1}, {-1,0}, {-1,1}, {0,1}, {1,1}},
    {{-1,1}, {0,1}, {1,1}, {1,0}, {1,-1}},
    {{1,1}, {1,0}, {1,-1}, {0,-1}, {-1,-1}},
    {{1,-1}, {0,-1}, {-1,-1}, {-1,0}, {-1,1}},
};

// Pentomino colors
const u16 PENTOMINO_COLORS[18] = {
    RGB15(31, 12, 18),  // I5
    RGB15(18, 31, 12),  // L5
    RGB15(12, 31, 18),  // J5
    RGB15(12, 18, 31),  // N
    RGB15(15, 21, 31),  // N2
    RGB15(31, 25, 12),  // S5
    RGB15(31, 27, 15),  // Z5
    RGB15(25, 12, 31),  // P
    RGB15(27, 15, 31),  // P2
    RGB15(31, 18, 25),  // Y
    RGB15(31, 21, 27),  // Y2
    RGB15(31, 22, 18),  // F
    RGB15(31, 22, 27),  // F2
    RGB15(12, 31, 25),  // U
    RGB15(22, 31, 22),  // T5
    RGB15(18, 25, 31),  // W
    RGB15(22, 18, 31),  // X
    RGB15(18, 31, 22),  // V
};

// Get pentomino shape (returns pointer to 5 blocks)
const s8* get_pentomino_shape(int type, int rotation) {
    rotation = rotation % 4;
    switch(type) {
        case 0:  return (const s8*)I5_SHAPE[rotation];
        case 1:  return (const s8*)L5_SHAPE[rotation];
        case 2:  return (const s8*)J5_SHAPE[rotation];
        case 3:  return (const s8*)N_SHAPE[rotation];
        case 4:  return (const s8*)N2_SHAPE[rotation];
        case 5:  return (const s8*)S5_SHAPE[rotation];
        case 6:  return (const s8*)Z5_SHAPE[rotation];
        case 7:  return (const s8*)P_SHAPE[rotation];
        case 8:  return (const s8*)P2_SHAPE[rotation];
        case 9:  return (const s8*)Y_SHAPE[rotation];
        case 10: return (const s8*)Y2_SHAPE[rotation];
        case 11: return (const s8*)F_SHAPE[rotation];
        case 12: return (const s8*)F2_SHAPE[rotation];
        case 13: return (const s8*)U_SHAPE[rotation];
        case 14: return (const s8*)T5_SHAPE[rotation];
        case 15: return (const s8*)W_SHAPE[rotation];
        case 16: return (const s8*)X_SHAPE[rotation];
        case 17: return (const s8*)V_SHAPE[rotation];
        default: return (const s8*)I5_SHAPE[0];
    }
}
